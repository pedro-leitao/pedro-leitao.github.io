<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-03-04">
<meta name="description" content="larger doesn’t always mean faster or better">

<title>Getting Things Right: How Engineering Teams Scale and Achieve Great Things – Pedro Leitão</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../_static/logo.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-a185852c63625fd9ffbdc57047c9a77e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-9143d267086697ee6a9fbeed7f968a66.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/nutshell-1.0.7/nutshell.js"></script>
<script src="../../../site_libs/quarto-contrib/nutshell-1.0.7/nutshell_options.js"></script>
<script src="../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FQKJNEYQJM"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-FQKJNEYQJM', { 'anonymize_ip': true});
</script>
<meta name="mermaid-theme" content="default">
<script src="../../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../styles.css">
<meta property="og:title" content="Getting Things Right: How Engineering Teams Scale and Achieve Great Things – Pedro Leitão">
<meta property="og:description" content="larger doesn’t always mean faster or better">
<meta property="og:image" content="https://pedroleitao.nl/posts/thoughts/engineering-teams-scale/index_files/figure-html/cell-3-output-1.png">
<meta property="og:site_name" content="Pedro Leitão">
<meta property="og:image:height" content="748">
<meta property="og:image:width" content="566">
<meta name="twitter:title" content="Getting Things Right: How Engineering Teams Scale and Achieve Great Things – Pedro Leitão">
<meta name="twitter:description" content="larger doesn’t always mean faster or better">
<meta name="twitter:image" content="https://pedroleitao.nl/posts/thoughts/engineering-teams-scale/index_files/figure-html/cell-3-output-1.png">
<meta name="twitter:image-height" content="748">
<meta name="twitter:image-width" content="566">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../_static/logo.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Bio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../posts.html"> 
<span class="menu-text">All posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../experiments.html"> 
<span class="menu-text">Experiments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../thoughts.html"> 
<span class="menu-text">Thoughts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../howtos.html"> 
<span class="menu-text">Howto’s</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pedro-leitao"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/nunoleitao"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../../posts.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Getting Things Right: How Engineering Teams Scale and Achieve Great Things</h1>
                  <div>
        <div class="description">
          larger doesn’t always mean faster or better
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Thoughts</div>
                <div class="quarto-category">Software Engineering</div>
                <div class="quarto-category">Scaling</div>
              </div>
                  </div>
  </div>
  <div class="quarto-title-meta">
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 4, 2025</p>
      </div>
    </div>
    </div>
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
  <ul>
  <li><a href="#why-teams-underperform" id="toc-why-teams-underperform" class="nav-link active" data-scroll-target="#why-teams-underperform">Why teams underperform</a></li>
  <li><a href="#meetings" id="toc-meetings" class="nav-link" data-scroll-target="#meetings">Meetings</a></li>
  <li><a href="#heroics" id="toc-heroics" class="nav-link" data-scroll-target="#heroics">Heroics</a></li>
  <li><a href="#the-right-technology-isnt-necessarily-the-best-technology" id="toc-the-right-technology-isnt-necessarily-the-best-technology" class="nav-link" data-scroll-target="#the-right-technology-isnt-necessarily-the-best-technology">The <em>right</em> technology isn’t necessarily the <em>best</em> technology</a></li>
  <li><a href="#technical-debt-and-legacy" id="toc-technical-debt-and-legacy" class="nav-link" data-scroll-target="#technical-debt-and-legacy">Technical debt and legacy</a></li>
  <li><a href="#scaling-laws" id="toc-scaling-laws" class="nav-link" data-scroll-target="#scaling-laws">Scaling laws</a></li>
  <li><a href="#pizza-teams" id="toc-pizza-teams" class="nav-link" data-scroll-target="#pizza-teams">Pizza teams</a></li>
  <li><a href="#small-and-incremental-but-keep-an-eye-on-the-target-picture" id="toc-small-and-incremental-but-keep-an-eye-on-the-target-picture" class="nav-link" data-scroll-target="#small-and-incremental-but-keep-an-eye-on-the-target-picture">Small and incremental, but keep an eye on the target picture</a></li>
  <li><a href="#a-model-for-team-productivity" id="toc-a-model-for-team-productivity" class="nav-link" data-scroll-target="#a-model-for-team-productivity">A model for team productivity</a></li>
  <li><a href="#moving-forward" id="toc-moving-forward" class="nav-link" data-scroll-target="#moving-forward">Moving forward</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<div class="quarto-about-marquee">
  <div class="about-image-container">
    <img src="Claudio-Ranieri.jpg" class="about-image " style="width: 100%;">
  </div>
  <div class="about-contents">
     <main class="content quarto-banner-title-block" id="quarto-document-content">

<p>I have spent a significant portion of my career trying to understand how engineering teams work together and scale, and working out ways to assist them in becoming more effective. If you have been in the same position, you probably know that it is a job which is never truly finished, and which usually leads to no gratifying conclusion or a “thank you” at the end.</p>
<p>Working with people is hard, understanding personalities, how different people collaborate, and how to help them work better together is <em>extremely</em> difficult.</p>
<p>Despite all this, there is often a push to grow teams when something isn’t quite working or objectives are not met. The underlying assumption is that more people will get the job done faster, and as importantly, that people are <em>fungible</em> and can just be moved around and hit the ground running.</p>
<p>This couldn’t be further from the truth, and it often leads to disaster. Non-performing teams are so for a number of reasons, and it is uncommon for <em>size</em> to be the main one.</p>
<section id="why-teams-underperform" class="level2">
<h2 data-anchor-id="why-teams-underperform">Why teams underperform</h2>
<p>In the 2015-2016 Premier League season, Leicester City won the title with a team that cost less than a single player from Manchester City. It had been promoted to the Premier League just two years before, and was expected to be relegated. <a href="https://www.premierleague.com/news/2748139">The team was made up of players who had been discarded by other teams</a>, and who had never played at the highest level. Yet, they won the title.</p>
<p>It was a shock to everyone, and probably the greatest underdog story in the history of football. It was also a testament to the fact that teams are not just about the sum of their parts, but about how those parts work together. In software engineering, the same is true. Teams, or groups of teams, often underperform because of ways of working rather than individuals, and almost for sure not because they aren’t large enough.</p>
<p>There are many factors that can lead to poor performance - experience, motivation, communication, technical debt, complexity of the project, and many others. An experienced team lead or engineering manager will be able to identify these factors and work to improve them, <em>but</em> only if they are given the time and resources to do so. Trying to fix a team in motion during a tight deadline or complex project is like trying to fix a car while it is running.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
    A[Poor Software Engineering Team Performance]
    subgraph Tech[Technical Issues]
      B1[High Technical Debt]
      B2[Outdated Technologies]
    end
    subgraph Proc[Process Issues]
      C1[Inefficient Processes]
      C2[Unclear Requirements]
      C3[Poor Project Management]
    end
    subgraph People[People Issues]
      D1[Poor Communication]
      D2[Lack of Team Integration]
      D3[Inadequate Skills/Training]
      D4[Low Morale]
    end
    A --&gt; Tech
    A --&gt; Proc
    A --&gt; People
    class Tech tech;
    class Proc process;
    class People people;
    classDef tech fill:#ffcccc,stroke:#cc0000,stroke-width:2px;
    classDef process fill:#ccffcc,stroke:#00cc00,stroke-width:2px;
    classDef people fill:#ccccff,stroke:#0000cc,stroke-width:2px;
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>In modern engineering practices, and especially in software architectures with lots of moving parts and dependencies, it is very easy to introduce friction between team members, or between teams. For example, if the team adopts modern CI/CD, but another team is still using traditional testing, friction between the two teams will increase and it will be hard to get both to cooperate properly. Equally, if a team decides to adopt an approach (say, an <a href="https://en.wikipedia.org/wiki/Event-driven_architecture">:link event driven architecture</a>), but very few members have the necessary skills, friction will happen between more and less skilled individuals, leading to inefficiencies and possibly burnout.</p>
<p>Friction leads to the need of <em>more communication</em>, which in turn leads to more potential misunderstandings, and more time spent on clarifications. This is a vicious cycle that can only be broken by reducing the friction, not by adding more people to the mix. This is where good team leads and engineering managers come in - they need to identify these sources of friction, conflict and misunderstanding, and work to reduce them.</p>
</section>
<section id="meetings" class="level2">
<h2 data-anchor-id="meetings">Meetings</h2>
<p>A sure fire way to identify a team that is not working well is to look at the number of meetings they have. Lots of scheduled, regular meetings with little or no agreed agenda, or with no clear outcome, are a sign that the team is not managing to communicate effectively, and there is some form of compensation happening. Equally, if a team is getting together regularly, but the same small group of people are doing all the talking, is probably a good indicator that something is wrong.</p>
<p>Software engineering requires deep thought, concentration, and a lot of time ideating and trying different things out. This can be done on one to one’s or in very small, cohesive groups, but hardly by more than two or three people at a time. The more people in a meeting, the less effective it is, and the more time is wasted.</p>
<p>Ideally, a meeting should last an amount of time that is inversely proportional to the number of attendees and frequency. The more people, the less time, and the less frequent the better. If a meeting is held every day for an hour, one should probably question <em>why</em> it is needed, and what is the desired <em>outcome</em> of it.</p>
<p>A good rule of thumb is that a meeting should have a duration of <span class="math inline">\(4/n\)</span>, where <span class="math inline">\(n\)</span> is the number of participants. Anything beyond that is probably a waste of time.</p>
<div id="16e5b001" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="16e5b001"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="16e5b001-1"><a href="#16e5b001-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="16e5b001-2"><a href="#16e5b001-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bokeh.plotting <span class="im">import</span> figure, output_file, save, show, output_notebook</span>
<span id="16e5b001-3"><a href="#16e5b001-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bokeh.models <span class="im">import</span> ColumnDataSource</span>
<span id="16e5b001-4"><a href="#16e5b001-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="16e5b001-5"><a href="#16e5b001-5" aria-hidden="true" tabindex="-1"></a>output_notebook(hide_banner<span class="op">=</span><span class="va">True</span>)</span>
<span id="16e5b001-6"><a href="#16e5b001-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="16e5b001-7"><a href="#16e5b001-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the range of participants (n)</span></span>
<span id="16e5b001-8"><a href="#16e5b001-8" aria-hidden="true" tabindex="-1"></a>n_values <span class="op">=</span> np.linspace(<span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">10</span>)</span>
<span id="16e5b001-9"><a href="#16e5b001-9" aria-hidden="true" tabindex="-1"></a>d_values <span class="op">=</span> <span class="dv">4</span> <span class="op">/</span> n_values</span>
<span id="16e5b001-10"><a href="#16e5b001-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="16e5b001-11"><a href="#16e5b001-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up the Bokeh data source</span></span>
<span id="16e5b001-12"><a href="#16e5b001-12" aria-hidden="true" tabindex="-1"></a>source <span class="op">=</span> ColumnDataSource(data<span class="op">=</span><span class="bu">dict</span>(n<span class="op">=</span>n_values, d<span class="op">=</span>d_values))</span>
<span id="16e5b001-13"><a href="#16e5b001-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="16e5b001-14"><a href="#16e5b001-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Bokeh figure</span></span>
<span id="16e5b001-15"><a href="#16e5b001-15" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> figure(</span>
<span id="16e5b001-16"><a href="#16e5b001-16" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Meeting Duration vs. Number of Participants"</span>,</span>
<span id="16e5b001-17"><a href="#16e5b001-17" aria-hidden="true" tabindex="-1"></a>    x_axis_label<span class="op">=</span><span class="st">"Number of Participants (n)"</span>,</span>
<span id="16e5b001-18"><a href="#16e5b001-18" aria-hidden="true" tabindex="-1"></a>    y_axis_label<span class="op">=</span><span class="st">"Duration (hours)"</span>,</span>
<span id="16e5b001-19"><a href="#16e5b001-19" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="16e5b001-20"><a href="#16e5b001-20" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span>,</span>
<span id="16e5b001-21"><a href="#16e5b001-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="16e5b001-22"><a href="#16e5b001-22" aria-hidden="true" tabindex="-1"></a>p.line(<span class="st">"n"</span>, <span class="st">"d"</span>, source<span class="op">=</span>source, line_width<span class="op">=</span><span class="dv">2</span>, color<span class="op">=</span><span class="st">"green"</span>)</span>
<span id="16e5b001-23"><a href="#16e5b001-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="16e5b001-24"><a href="#16e5b001-24" aria-hidden="true" tabindex="-1"></a>show(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<script>'use strict';
(function(root) {
  function now() {
    return new Date();
  }
  const force = true;
  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }
const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';
  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }
  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    function drop(id) {
      const view = Bokeh.index.get_by_id(id)
      if (view != null) {
        view.model.document.clear()
        Bokeh.index.delete(view)
      }
    }
    const cell = handle.cell;
    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;
    // Clean up Bokeh references
    if (id != null) {
      drop(id)
    }
    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim()
            drop(id)
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }
  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;
    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }
    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);
    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }
  function register_renderer(events, OutputArea) {
    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }
    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);
    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);
    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }
  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;
    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }
  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};
  function display_loaded(error = null) {
    const el = document.getElementById(null);
    if (el != null) {
      const html = (() => {
        if (typeof root.Bokeh === "undefined") {
          if (error == null) {
            return "BokehJS is loading ...";
          } else {
            return "BokehJS failed to load.";
          }
        } else {
          const prefix = `BokehJS ${root.Bokeh.version}`;
          if (error == null) {
            return `${prefix} successfully loaded.`;
          } else {
            return `${prefix} <b>encountered errors</b> while loading and may not function as expected.`;
          }
        }
      })();
      el.innerHTML = html;
      if (error != null) {
        const wrapper = document.createElement("div");
        wrapper.style.overflow = "auto";
        wrapper.style.height = "5em";
        wrapper.style.resize = "vertical";
        const content = document.createElement("div");
        content.style.fontFamily = "monospace";
        content.style.whiteSpace = "pre-wrap";
        content.style.backgroundColor = "rgb(255, 221, 221)";
        content.textContent = error.stack ?? error.toString();
        wrapper.append(content);
        el.append(wrapper);
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(() => display_loaded(error), 100);
    }
  }
  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }
  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];
    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;
    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }
    function on_error(url) {
      console.error("failed to load " + url);
    }
    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }
    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };
  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }
  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-3.6.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.6.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.6.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.6.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.6.3.min.js"];
  const css_urls = [];
  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];
  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
      try {
            for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }
      } catch (error) {throw error;
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById(null)).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }
  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script>
  <div id="d6430370-2b51-49ce-ab8b-fbf96fd11ac9" data-root-id="p1004" style="display: contents;"></div>
<script>(function(root) {
  function embed_document(root) {
  const docs_json = {"f4f89b92-c5e9-4384-a521-26b4284eb97e":{"version":"3.6.3","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1004","attributes":{"height":400,"x_range":{"type":"object","name":"DataRange1d","id":"p1005"},"y_range":{"type":"object","name":"DataRange1d","id":"p1006"},"x_scale":{"type":"object","name":"LinearScale","id":"p1014"},"y_scale":{"type":"object","name":"LinearScale","id":"p1015"},"title":{"type":"object","name":"Title","id":"p1007","attributes":{"text":"Meeting Duration vs. Number of Participants"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1045","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1001","attributes":{"selected":{"type":"object","name":"Selection","id":"p1002","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1003"},"data":{"type":"map","entries":[["n",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAEDHcRzHcRwHQI7jOI7jOA5AqqqqqqqqEkCO4ziO4zgWQHIcx3EcxxlAVVVVVVVVHUAcx3Ecx3EgQI7jOI7jOCJAAAAAAAAAJEA="},"shape":[10],"dtype":"float64","order":"little"}],["d",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAEB2Yid2Yif2P/Hw8PDw8PA/3LZt27Zt6z8K16NwPQrnPwnLPY2w3OM/ddFFF1104T8q8lk3mCLfPxmcj8H5GNw/mpmZmZmZ2T8="},"shape":[10],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1046","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1047"}}},"glyph":{"type":"object","name":"Line","id":"p1042","attributes":{"x":{"type":"field","field":"n"},"y":{"type":"field","field":"d"},"line_color":"green","line_width":2}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1043","attributes":{"x":{"type":"field","field":"n"},"y":{"type":"field","field":"d"},"line_color":"green","line_alpha":0.1,"line_width":2}},"muted_glyph":{"type":"object","name":"Line","id":"p1044","attributes":{"x":{"type":"field","field":"n"},"y":{"type":"field","field":"d"},"line_color":"green","line_alpha":0.2,"line_width":2}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1013","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1026"},{"type":"object","name":"WheelZoomTool","id":"p1027","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1028","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1029","attributes":{"syncable":false,"line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","handles":{"type":"object","name":"BoxInteractionHandles","id":"p1035","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1034","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}}}},{"type":"object","name":"SaveTool","id":"p1036"},{"type":"object","name":"ResetTool","id":"p1037"},{"type":"object","name":"HelpTool","id":"p1038"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1021","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1022","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1023"},"axis_label":"Duration (hours)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1024"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1016","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1017","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1018"},"axis_label":"Number of Participants (n)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1019"}}}],"center":[{"type":"object","name":"Grid","id":"p1020","attributes":{"axis":{"id":"p1016"}}},{"type":"object","name":"Grid","id":"p1025","attributes":{"dimension":1,"axis":{"id":"p1021"}}}]}}]}};
  const render_items = [{"docid":"f4f89b92-c5e9-4384-a521-26b4284eb97e","roots":{"p1004":"d6430370-2b51-49ce-ab8b-fbf96fd11ac9"},"root_ids":["p1004"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>
</div>
</section>
<section id="heroics" class="level2">
<h2 data-anchor-id="heroics">Heroics</h2>
<p>In the software industry, there is a tendency to reward heroics and to find a <a href="https://www.simplethread.com/the-10x-programmer-myth/">10x engineer”</a> to solve all the problems and bring the team to the next level. Taking the previous football parallel, Leicester City did not have a single superstar player, but instead a team of players who worked together and who were motivated to win. Adding a very senior, highly productive engineer to a team that is not working well will not solve the problem, it will just decrease the productivity of the new member.</p>
<p>A chain is only as strong as its weakest link, and a team is only as strong as its weakest member. The goal should be to make the team work better together, not to add more people or to find a hero to save the day.</p>
<p>There is an exception to this, as bringing in a highly skilled engineer to mentor and coach the team can be very beneficial. This is not to solve the team’s problems, but to help the team solve them themselves. The mentor should be there to guide, not to do the work for them. However, this strategy can quickly backfire if the team <em>does not</em> accept a mentor to be brought in. Choosing and supporting the right person is key to success in this case, and only if the team is willing to accept the help.</p>
</section>
<section id="the-right-technology-isnt-necessarily-the-best-technology" class="level2">
<h2 data-anchor-id="the-right-technology-isnt-necessarily-the-best-technology">The <em>right</em> technology isn’t necessarily the <em>best</em> technology</h2>
<p>It is very easy for teams, especially when the wrong incentives are in place, to pick a technology which is not right for them. People want to work with the latest and greatest, and often the choice of technology is driven by what is desirable rather than what is right. It can lead to long learning curves, and the need for significant investment in time and resources to get the team up to speed.</p>
<p>Even when the willingness to invest is there, some teams will just not have the appetite to learn or follow new things - this happens way more often than one would assume. Especially when a given technical choice was not a voluntarily one. On the other hand, an eager team without accompanying experience can make choices that it can’t deliver on. It is important to have a balance between what is desirable and what is achievable, and helping them with due diligence is vital in high-risk/high-reward projects.</p>
</section>
<section id="technical-debt-and-legacy" class="level2">
<h2 data-anchor-id="technical-debt-and-legacy">Technical debt and legacy</h2>
<p>Technical debt is a concept that is often misunderstood, and which can lead to significant problems if not managed properly. It is not just about code, but about the processes, the tools, the documentation, and the people. It is about the decisions that were made in the past, and the consequences of those decisions. Teams that have been fighting technical debt for a long time will ultimately become very adept at fighting fires, but will find it very hard to innovate and move forward. This leads to an environment where the team is constantly playing catch-up, and where the focus is on fixing problems rather than on delivering value.</p>
<p>In the past I have worked with teams who were absolutely convinced that they were highly effective - they were delivering “things” and meeting deadlines. However they were doing little else but fix bugs, delivering incremental features that were not needed and which were not used, building only what was possible rather than what was needed. The footprint of the product wasn’t evolving, and staleness had crept in years back. Legacy can and will kill a product in many ways, not necessarily by the code itself, but by the lack of innovation and the lack of willingness to change.</p>
</section>
<section id="scaling-laws" class="level2">
<h2 data-anchor-id="scaling-laws">Scaling laws</h2>
<p>There are a few scaling principles that anyone working in technology should be able to grasp. The first is <em><a href="https://en.wikipedia.org/wiki/Conway%27s_law">:link Conway’s law</a></em>, which states that “organizations which design systems (…) are constrained to produce designs which are copies of the communication structures of these organizations.” In practice, a system’s architecture tends to mirror the org chart and communication paths of its creators​. A misaligned software architecture and team structure can lead to inefficiencies or unintended design complexity.</p>
<p>You have probably seen this in practice, where a monolithic codebase becomes unwieldy as the team grows, or distributed teams struggle with tightly coupled microservices. For instance, a startup’s early system—built by a single cohesive team—often evolves into a tangled mess of dependencies once the company scales into departmental silos (engineering, product, DevOps). Suddenly, the software reflects fragmented priorities and communication gaps, with teams duplicating efforts or bypassing critical integrations. Many businesses now even use the inverse Conway maneuver - reorganizing teams to achieve a desired software architecture​.</p>
<p>Another important principle is Brooks’ Law - “Adding manpower to a late software project makes it later.” Fred Brooks’ classic lesson warns that simply throwing more developers at a slipping project often backfires​. New team members take time to ramp up and increase communication overhead, which can further slow progress. This law has been validated “project after project across engineering teams of all sizes”​, reminding us to be cautious about scaling headcount as a solution, as it leads to diminishing returns due to increased coordination costs.</p>
<div id="4a514691" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="4a514691"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="4a514691-1"><a href="#4a514691-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="4a514691-2"><a href="#4a514691-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="4a514691-3"><a href="#4a514691-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="4a514691-4"><a href="#4a514691-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define range for n values</span></span>
<span id="4a514691-5"><a href="#4a514691-5" aria-hidden="true" tabindex="-1"></a>n_values <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">3</span>, <span class="dv">12</span>))</span>
<span id="4a514691-6"><a href="#4a514691-6" aria-hidden="true" tabindex="-1"></a>num_plots <span class="op">=</span> <span class="bu">len</span>(n_values)</span>
<span id="4a514691-7"><a href="#4a514691-7" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> <span class="dv">3</span></span>
<span id="4a514691-8"><a href="#4a514691-8" aria-hidden="true" tabindex="-1"></a>rows <span class="op">=</span> (num_plots <span class="op">+</span> cols <span class="op">-</span> <span class="dv">1</span>) <span class="op">//</span> cols  <span class="co"># Ceiling division for rows</span></span>
<span id="4a514691-9"><a href="#4a514691-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="4a514691-10"><a href="#4a514691-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create subplots</span></span>
<span id="4a514691-11"><a href="#4a514691-11" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(rows, cols, figsize<span class="op">=</span>(cols <span class="op">*</span> <span class="dv">2</span>, rows <span class="op">*</span> <span class="dv">3</span>))</span>
<span id="4a514691-12"><a href="#4a514691-12" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> axes.flatten()  <span class="co"># Make it easier to iterate</span></span>
<span id="4a514691-13"><a href="#4a514691-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="4a514691-14"><a href="#4a514691-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax, n <span class="kw">in</span> <span class="bu">zip</span>(axes, n_values):</span>
<span id="4a514691-15"><a href="#4a514691-15" aria-hidden="true" tabindex="-1"></a>    ax.set_title(<span class="ss">f"</span><span class="sc">{</span>n<span class="sc">}</span><span class="ss"> people, </span><span class="sc">{</span>n<span class="op">*</span>(n<span class="op">-</span><span class="dv">1</span>)<span class="op">//</span><span class="dv">2</span><span class="sc">}</span><span class="ss"> lines"</span>)</span>
<span id="4a514691-16"><a href="#4a514691-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="4a514691-17"><a href="#4a514691-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set equal aspect and limits</span></span>
<span id="4a514691-18"><a href="#4a514691-18" aria-hidden="true" tabindex="-1"></a>    ax.set_aspect(<span class="st">"equal"</span>)</span>
<span id="4a514691-19"><a href="#4a514691-19" aria-hidden="true" tabindex="-1"></a>    ax.set_xlim(<span class="op">-</span><span class="fl">1.2</span>, <span class="fl">1.2</span>)</span>
<span id="4a514691-20"><a href="#4a514691-20" aria-hidden="true" tabindex="-1"></a>    ax.set_ylim(<span class="op">-</span><span class="fl">1.2</span>, <span class="fl">1.2</span>)</span>
<span id="4a514691-21"><a href="#4a514691-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="4a514691-22"><a href="#4a514691-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Hide axes</span></span>
<span id="4a514691-23"><a href="#4a514691-23" aria-hidden="true" tabindex="-1"></a>    ax.axis(<span class="st">"off"</span>)</span>
<span id="4a514691-24"><a href="#4a514691-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="4a514691-25"><a href="#4a514691-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Compute circular coordinates</span></span>
<span id="4a514691-26"><a href="#4a514691-26" aria-hidden="true" tabindex="-1"></a>    coords <span class="op">=</span> [</span>
<span id="4a514691-27"><a href="#4a514691-27" aria-hidden="true" tabindex="-1"></a>        (math.cos(<span class="dv">2</span> <span class="op">*</span> math.pi <span class="op">*</span> i <span class="op">/</span> n), math.sin(<span class="dv">2</span> <span class="op">*</span> math.pi <span class="op">*</span> i <span class="op">/</span> n)) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n)</span>
<span id="4a514691-28"><a href="#4a514691-28" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="4a514691-29"><a href="#4a514691-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="4a514691-30"><a href="#4a514691-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Draw all connecting lines</span></span>
<span id="4a514691-31"><a href="#4a514691-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="4a514691-32"><a href="#4a514691-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(i <span class="op">+</span> <span class="dv">1</span>, n):</span>
<span id="4a514691-33"><a href="#4a514691-33" aria-hidden="true" tabindex="-1"></a>            x_coords <span class="op">=</span> [coords[i][<span class="dv">0</span>], coords[j][<span class="dv">0</span>]]</span>
<span id="4a514691-34"><a href="#4a514691-34" aria-hidden="true" tabindex="-1"></a>            y_coords <span class="op">=</span> [coords[i][<span class="dv">1</span>], coords[j][<span class="dv">1</span>]]</span>
<span id="4a514691-35"><a href="#4a514691-35" aria-hidden="true" tabindex="-1"></a>            ax.plot(x_coords, y_coords, linewidth<span class="op">=</span><span class="dv">1</span>, color<span class="op">=</span><span class="st">"green"</span>)</span>
<span id="4a514691-36"><a href="#4a514691-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="4a514691-37"><a href="#4a514691-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Draw vertices</span></span>
<span id="4a514691-38"><a href="#4a514691-38" aria-hidden="true" tabindex="-1"></a>    xs, ys <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>coords)</span>
<span id="4a514691-39"><a href="#4a514691-39" aria-hidden="true" tabindex="-1"></a>    ax.scatter(xs, ys, s<span class="op">=</span><span class="dv">20</span>, color<span class="op">=</span><span class="st">"darkgreen"</span>)</span>
<span id="4a514691-40"><a href="#4a514691-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="4a514691-41"><a href="#4a514691-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Hide any unused subplots</span></span>
<span id="4a514691-42"><a href="#4a514691-42" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> axes[num_plots:]:</span>
<span id="4a514691-43"><a href="#4a514691-43" aria-hidden="true" tabindex="-1"></a>    ax.axis(<span class="st">"off"</span>)</span>
<span id="4a514691-44"><a href="#4a514691-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="4a514691-45"><a href="#4a514691-45" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="4a514691-46"><a href="#4a514691-46" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/cell-3-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="index_files/figure-html/cell-3-output-1.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Finally, Dunbar’s number, where anthropologist Robin Dunbar found that humans maintain stable social relationships in groups up to about 150​. In small teams (under approximately 10 people), everyone communicates frequently and informally, but beyond certain sizes, additional structure and process are needed​. Teams exceeding roughly 100–150 people often lose cohesion, requiring formal interfaces and roadmaps to coordinate​. Effective scaling often involves breaking organizations into smaller units to stay within these cognitive limits. Dunbar’s number is probably <em>much smaller</em> in complex environments. I am sure many of us have found that teams of five or seven people can easily become unmanageable without the right conditions in place.</p>
</section>
<section id="pizza-teams" class="level2">
<h2 data-anchor-id="pizza-teams">Pizza teams</h2>
<p>A common way to think about team size is the <a href="https://docs.aws.amazon.com/whitepapers/latest/public-sector-cloud-transformation/two-pizza-teams-from-ops-to-devops.html">“two pizza rule”</a> - if a team can’t be fed with two pizzas, it is too large. The pizza rule emerged in Amazon, Jeff Bezzos famously said that he wanted to keep teams small enough that they could be fed with two pizzas. The idea is that smaller teams are more efficient, more agile, and more effective. They can communicate more easily, make decisions more quickly, and are more likely to be cohesive.</p>
<p>This isn’t always true, but there is wisdom in the rule. Smaller teams in a sense <em>force</em> communication, as there are fewer people to talk to, fewer people to make decisions, and lead to easier consensus. Smaller teams can also lead to a more resilient, distributed architecture, as they are less likely to build monolithic systems that are hard to change.</p>
</section>
<section id="small-and-incremental-but-keep-an-eye-on-the-target-picture" class="level2">
<h2 data-anchor-id="small-and-incremental-but-keep-an-eye-on-the-target-picture">Small and incremental, but keep an eye on the target picture</h2>
<p>Whenever a team, or a group of teams is working on an innovation initiative, there is a tendency to want to start fresh and build something completely new. More often than not this leads to failure, as the team is not able to deliver on the promise, and the project is either cancelled or the team is disbanded. It is vital to start small, build incrementally on what is there already, but to keep an eye on the target picture and to make steady, continuous progress towards it. This is where good product management comes in, as they are able to keep the team focused on the goal, and to help them make the right decisions along the way. As any initiative moves forward, product management becomes the linchpin that transforms early, incremental successes into a coherent long-term vision. They serve as the bridge between engineering, design and the market, ensuring that incremental progress aligns broadly.</p>
<p>For this approach to work, it is imperative that engineering teams and product managers actually have aligned incentives, and that they are working towards the same goal. Engineering teams typically think of the product as a set of <em>features</em>, while product managers think in terms of delivered <em>value</em>. The two are not the same, and teams often need help to work towards the same goals.</p>
<p>They also need support to test out ideas, to <a href="https://en.wikipedia.org/wiki/Fail_fast_(business)">:link fail fast</a>, and to learn from their mistakes. It is hard to determine what is valuable and what is not, and it is important to have a process in place which supports rapid discovery, experimentation, prototyping and validation of new ideas. This is where the concept of <a href="https://en.wikipedia.org/wiki/Lean_startup">:lean startup</a> comes in, and where the team needs to be able to pivot quickly, to change direction, and to adapt to new information. It is also important that product managers buy into this approach, and that they are able to support the team in their efforts.</p>
</section>
<section id="a-model-for-team-productivity" class="level2">
<h2 data-anchor-id="a-model-for-team-productivity">A model for team productivity</h2>
<p>It is always useful to visually intuit how some of the factors we discussed interact with each other and impact the ability of an engineering team to deliver. Let us quickly model how team integration, communication, and technical debt can affect team productivity as project size increases. The following widget allows you to adjust the sliders for team integration, communication, and technical debt, and see how the productivity curve changes. Each slider represents the amount of friction introduced by the corresponding factor, i.e., as you move the sliders to the right you are saying that the team has more friction due to that factor. The productivity curve is based on a simple model that combines these factors to estimate the team’s mid productivity level, as well as the uncertainty range around it.</p>
<p>You can estimate where the team is in regards to these factors, and put each slide at the right level to estimate where they are in the productivity curve. “Productivity” in this case means the amount of time the team spends delivering value, rather than spending time just fixing things, trying to understand what is needed, just talking to each other, or attempting to integrate various aspects of what they developed (a productivity of zero means the team is basically not delivering anything, while a value of one means they are delivering at full capacity).</p>
<p>The model is very simplified, but should give you a good intuition on how these factors interact.</p>
<div id="c8fb81ca" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="c8fb81ca"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="c8fb81ca-1"><a href="#c8fb81ca-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="c8fb81ca-2"><a href="#c8fb81ca-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bokeh.plotting <span class="im">import</span> figure, output_file, save</span>
<span id="c8fb81ca-3"><a href="#c8fb81ca-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bokeh.models <span class="im">import</span> ColumnDataSource, Slider, CustomJS, Band</span>
<span id="c8fb81ca-4"><a href="#c8fb81ca-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bokeh.layouts <span class="im">import</span> column</span>
<span id="c8fb81ca-5"><a href="#c8fb81ca-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-6"><a href="#c8fb81ca-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Decay factor for technical debt</span></span>
<span id="c8fb81ca-7"><a href="#c8fb81ca-7" aria-hidden="true" tabindex="-1"></a>k <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="c8fb81ca-8"><a href="#c8fb81ca-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-9"><a href="#c8fb81ca-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-10"><a href="#c8fb81ca-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to compute mid productivity based on project size and factors.</span></span>
<span id="c8fb81ca-11"><a href="#c8fb81ca-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> compute_mid_productivity(sizes, team_integration, communication, technical_debt):</span>
<span id="c8fb81ca-12"><a href="#c8fb81ca-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Base factor: higher integration &amp; communication reduce friction.</span></span>
<span id="c8fb81ca-13"><a href="#c8fb81ca-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Technical debt now decays productivity exponentially.</span></span>
<span id="c8fb81ca-14"><a href="#c8fb81ca-14" aria-hidden="true" tabindex="-1"></a>    base <span class="op">=</span> (<span class="dv">1</span> <span class="op">-</span> <span class="fl">0.5</span> <span class="op">*</span> (team_integration <span class="op">+</span> communication)) <span class="op">*</span> np.exp(<span class="op">-</span>k <span class="op">*</span> technical_debt)</span>
<span id="c8fb81ca-15"><a href="#c8fb81ca-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Exponential decay with increasing project size.</span></span>
<span id="c8fb81ca-16"><a href="#c8fb81ca-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> base <span class="op">*</span> np.exp(<span class="op">-</span><span class="fl">0.03</span> <span class="op">*</span> (sizes <span class="op">-</span> <span class="dv">1</span>))</span>
<span id="c8fb81ca-17"><a href="#c8fb81ca-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-18"><a href="#c8fb81ca-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-19"><a href="#c8fb81ca-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Baseline uncertainty fraction at maximum project size</span></span>
<span id="c8fb81ca-20"><a href="#c8fb81ca-20" aria-hidden="true" tabindex="-1"></a>baseline_uncertainty <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="c8fb81ca-21"><a href="#c8fb81ca-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-22"><a href="#c8fb81ca-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Initial parameter values</span></span>
<span id="c8fb81ca-23"><a href="#c8fb81ca-23" aria-hidden="true" tabindex="-1"></a>initial_team_integration <span class="op">=</span> <span class="fl">0.2</span></span>
<span id="c8fb81ca-24"><a href="#c8fb81ca-24" aria-hidden="true" tabindex="-1"></a>initial_communication <span class="op">=</span> <span class="fl">0.2</span></span>
<span id="c8fb81ca-25"><a href="#c8fb81ca-25" aria-hidden="true" tabindex="-1"></a>initial_technical_debt <span class="op">=</span> <span class="fl">0.2</span></span>
<span id="c8fb81ca-26"><a href="#c8fb81ca-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-27"><a href="#c8fb81ca-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an array for project sizes</span></span>
<span id="c8fb81ca-28"><a href="#c8fb81ca-28" aria-hidden="true" tabindex="-1"></a>sizes <span class="op">=</span> np.linspace(<span class="dv">1</span>, <span class="dv">100</span>, <span class="dv">100</span>)</span>
<span id="c8fb81ca-29"><a href="#c8fb81ca-29" aria-hidden="true" tabindex="-1"></a>max_size <span class="op">=</span> sizes[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="c8fb81ca-30"><a href="#c8fb81ca-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-31"><a href="#c8fb81ca-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mid productivity curve.</span></span>
<span id="c8fb81ca-32"><a href="#c8fb81ca-32" aria-hidden="true" tabindex="-1"></a>mid_productivity <span class="op">=</span> compute_mid_productivity(</span>
<span id="c8fb81ca-33"><a href="#c8fb81ca-33" aria-hidden="true" tabindex="-1"></a>    sizes, initial_team_integration, initial_communication, initial_technical_debt</span>
<span id="c8fb81ca-34"><a href="#c8fb81ca-34" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="c8fb81ca-35"><a href="#c8fb81ca-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute effective uncertainty: baseline uncertainty scaled by the average friction factor.</span></span>
<span id="c8fb81ca-36"><a href="#c8fb81ca-36" aria-hidden="true" tabindex="-1"></a>effective_uncertainty <span class="op">=</span> baseline_uncertainty <span class="op">*</span> (</span>
<span id="c8fb81ca-37"><a href="#c8fb81ca-37" aria-hidden="true" tabindex="-1"></a>    (initial_team_integration <span class="op">+</span> initial_communication <span class="op">+</span> initial_technical_debt) <span class="op">/</span> <span class="dv">3</span></span>
<span id="c8fb81ca-38"><a href="#c8fb81ca-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="c8fb81ca-39"><a href="#c8fb81ca-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Scale uncertainty: linear from 0 at size=1 to effective_uncertainty at max_size.</span></span>
<span id="c8fb81ca-40"><a href="#c8fb81ca-40" aria-hidden="true" tabindex="-1"></a>scale <span class="op">=</span> (sizes <span class="op">-</span> <span class="dv">1</span>) <span class="op">/</span> (max_size <span class="op">-</span> <span class="dv">1</span>)</span>
<span id="c8fb81ca-41"><a href="#c8fb81ca-41" aria-hidden="true" tabindex="-1"></a>lower_productivity <span class="op">=</span> mid_productivity <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> effective_uncertainty <span class="op">*</span> scale)</span>
<span id="c8fb81ca-42"><a href="#c8fb81ca-42" aria-hidden="true" tabindex="-1"></a>upper_productivity <span class="op">=</span> mid_productivity <span class="op">*</span> (<span class="dv">1</span> <span class="op">+</span> effective_uncertainty <span class="op">*</span> scale)</span>
<span id="c8fb81ca-43"><a href="#c8fb81ca-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-44"><a href="#c8fb81ca-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up the Bokeh data source.</span></span>
<span id="c8fb81ca-45"><a href="#c8fb81ca-45" aria-hidden="true" tabindex="-1"></a>source <span class="op">=</span> ColumnDataSource(</span>
<span id="c8fb81ca-46"><a href="#c8fb81ca-46" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="c8fb81ca-47"><a href="#c8fb81ca-47" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>sizes,</span>
<span id="c8fb81ca-48"><a href="#c8fb81ca-48" aria-hidden="true" tabindex="-1"></a>        y_mid<span class="op">=</span>mid_productivity,</span>
<span id="c8fb81ca-49"><a href="#c8fb81ca-49" aria-hidden="true" tabindex="-1"></a>        y_lower<span class="op">=</span>lower_productivity,</span>
<span id="c8fb81ca-50"><a href="#c8fb81ca-50" aria-hidden="true" tabindex="-1"></a>        y_upper<span class="op">=</span>upper_productivity,</span>
<span id="c8fb81ca-51"><a href="#c8fb81ca-51" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="c8fb81ca-52"><a href="#c8fb81ca-52" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="c8fb81ca-53"><a href="#c8fb81ca-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-54"><a href="#c8fb81ca-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Bokeh figure.</span></span>
<span id="c8fb81ca-55"><a href="#c8fb81ca-55" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> figure(</span>
<span id="c8fb81ca-56"><a href="#c8fb81ca-56" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Team Productivity vs. Project Size"</span>,</span>
<span id="c8fb81ca-57"><a href="#c8fb81ca-57" aria-hidden="true" tabindex="-1"></a>    x_axis_label<span class="op">=</span><span class="st">"Project Size"</span>,</span>
<span id="c8fb81ca-58"><a href="#c8fb81ca-58" aria-hidden="true" tabindex="-1"></a>    y_axis_label<span class="op">=</span><span class="st">"Productivity"</span>,</span>
<span id="c8fb81ca-59"><a href="#c8fb81ca-59" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="c8fb81ca-60"><a href="#c8fb81ca-60" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span>,</span>
<span id="c8fb81ca-61"><a href="#c8fb81ca-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="c8fb81ca-62"><a href="#c8fb81ca-62" aria-hidden="true" tabindex="-1"></a>p.line(</span>
<span id="c8fb81ca-63"><a href="#c8fb81ca-63" aria-hidden="true" tabindex="-1"></a>    <span class="st">"x"</span>,</span>
<span id="c8fb81ca-64"><a href="#c8fb81ca-64" aria-hidden="true" tabindex="-1"></a>    <span class="st">"y_mid"</span>,</span>
<span id="c8fb81ca-65"><a href="#c8fb81ca-65" aria-hidden="true" tabindex="-1"></a>    source<span class="op">=</span>source,</span>
<span id="c8fb81ca-66"><a href="#c8fb81ca-66" aria-hidden="true" tabindex="-1"></a>    line_width<span class="op">=</span><span class="dv">2</span>,</span>
<span id="c8fb81ca-67"><a href="#c8fb81ca-67" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"green"</span>,</span>
<span id="c8fb81ca-68"><a href="#c8fb81ca-68" aria-hidden="true" tabindex="-1"></a>    legend_label<span class="op">=</span><span class="st">"Mid Productivity"</span>,</span>
<span id="c8fb81ca-69"><a href="#c8fb81ca-69" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="c8fb81ca-70"><a href="#c8fb81ca-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-71"><a href="#c8fb81ca-71" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a band between lower and upper curves.</span></span>
<span id="c8fb81ca-72"><a href="#c8fb81ca-72" aria-hidden="true" tabindex="-1"></a>band <span class="op">=</span> Band(</span>
<span id="c8fb81ca-73"><a href="#c8fb81ca-73" aria-hidden="true" tabindex="-1"></a>    base<span class="op">=</span><span class="st">"x"</span>,</span>
<span id="c8fb81ca-74"><a href="#c8fb81ca-74" aria-hidden="true" tabindex="-1"></a>    lower<span class="op">=</span><span class="st">"y_lower"</span>,</span>
<span id="c8fb81ca-75"><a href="#c8fb81ca-75" aria-hidden="true" tabindex="-1"></a>    upper<span class="op">=</span><span class="st">"y_upper"</span>,</span>
<span id="c8fb81ca-76"><a href="#c8fb81ca-76" aria-hidden="true" tabindex="-1"></a>    source<span class="op">=</span>source,</span>
<span id="c8fb81ca-77"><a href="#c8fb81ca-77" aria-hidden="true" tabindex="-1"></a>    level<span class="op">=</span><span class="st">"underlay"</span>,</span>
<span id="c8fb81ca-78"><a href="#c8fb81ca-78" aria-hidden="true" tabindex="-1"></a>    fill_alpha<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="c8fb81ca-79"><a href="#c8fb81ca-79" aria-hidden="true" tabindex="-1"></a>    line_width<span class="op">=</span><span class="dv">1</span>,</span>
<span id="c8fb81ca-80"><a href="#c8fb81ca-80" aria-hidden="true" tabindex="-1"></a>    line_color<span class="op">=</span><span class="st">"gray"</span>,</span>
<span id="c8fb81ca-81"><a href="#c8fb81ca-81" aria-hidden="true" tabindex="-1"></a>    fill_color<span class="op">=</span><span class="st">"green"</span>,</span>
<span id="c8fb81ca-82"><a href="#c8fb81ca-82" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="c8fb81ca-83"><a href="#c8fb81ca-83" aria-hidden="true" tabindex="-1"></a>p.add_layout(band)</span>
<span id="c8fb81ca-84"><a href="#c8fb81ca-84" aria-hidden="true" tabindex="-1"></a>p.legend.location <span class="op">=</span> <span class="st">"top_right"</span></span>
<span id="c8fb81ca-85"><a href="#c8fb81ca-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-86"><a href="#c8fb81ca-86" aria-hidden="true" tabindex="-1"></a><span class="co"># Create sliders for team integration, communication, and technical debt.</span></span>
<span id="c8fb81ca-87"><a href="#c8fb81ca-87" aria-hidden="true" tabindex="-1"></a>slider_team <span class="op">=</span> Slider(</span>
<span id="c8fb81ca-88"><a href="#c8fb81ca-88" aria-hidden="true" tabindex="-1"></a>    start<span class="op">=</span><span class="dv">0</span>,</span>
<span id="c8fb81ca-89"><a href="#c8fb81ca-89" aria-hidden="true" tabindex="-1"></a>    end<span class="op">=</span><span class="dv">1</span>,</span>
<span id="c8fb81ca-90"><a href="#c8fb81ca-90" aria-hidden="true" tabindex="-1"></a>    value<span class="op">=</span>initial_team_integration,</span>
<span id="c8fb81ca-91"><a href="#c8fb81ca-91" aria-hidden="true" tabindex="-1"></a>    step<span class="op">=</span><span class="fl">0.01</span>,</span>
<span id="c8fb81ca-92"><a href="#c8fb81ca-92" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Team Integration"</span>,</span>
<span id="c8fb81ca-93"><a href="#c8fb81ca-93" aria-hidden="true" tabindex="-1"></a>    show_value<span class="op">=</span><span class="va">False</span>,</span>
<span id="c8fb81ca-94"><a href="#c8fb81ca-94" aria-hidden="true" tabindex="-1"></a>    tooltips<span class="op">=</span><span class="va">False</span>,</span>
<span id="c8fb81ca-95"><a href="#c8fb81ca-95" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="c8fb81ca-96"><a href="#c8fb81ca-96" aria-hidden="true" tabindex="-1"></a>slider_comm <span class="op">=</span> Slider(</span>
<span id="c8fb81ca-97"><a href="#c8fb81ca-97" aria-hidden="true" tabindex="-1"></a>    start<span class="op">=</span><span class="dv">0</span>,</span>
<span id="c8fb81ca-98"><a href="#c8fb81ca-98" aria-hidden="true" tabindex="-1"></a>    end<span class="op">=</span><span class="dv">1</span>,</span>
<span id="c8fb81ca-99"><a href="#c8fb81ca-99" aria-hidden="true" tabindex="-1"></a>    value<span class="op">=</span>initial_communication,</span>
<span id="c8fb81ca-100"><a href="#c8fb81ca-100" aria-hidden="true" tabindex="-1"></a>    step<span class="op">=</span><span class="fl">0.01</span>,</span>
<span id="c8fb81ca-101"><a href="#c8fb81ca-101" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Communication"</span>,</span>
<span id="c8fb81ca-102"><a href="#c8fb81ca-102" aria-hidden="true" tabindex="-1"></a>    show_value<span class="op">=</span><span class="va">False</span>,</span>
<span id="c8fb81ca-103"><a href="#c8fb81ca-103" aria-hidden="true" tabindex="-1"></a>    tooltips<span class="op">=</span><span class="va">False</span>,</span>
<span id="c8fb81ca-104"><a href="#c8fb81ca-104" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="c8fb81ca-105"><a href="#c8fb81ca-105" aria-hidden="true" tabindex="-1"></a>slider_td <span class="op">=</span> Slider(</span>
<span id="c8fb81ca-106"><a href="#c8fb81ca-106" aria-hidden="true" tabindex="-1"></a>    start<span class="op">=</span><span class="dv">0</span>,</span>
<span id="c8fb81ca-107"><a href="#c8fb81ca-107" aria-hidden="true" tabindex="-1"></a>    end<span class="op">=</span><span class="dv">1</span>,</span>
<span id="c8fb81ca-108"><a href="#c8fb81ca-108" aria-hidden="true" tabindex="-1"></a>    value<span class="op">=</span>initial_technical_debt,</span>
<span id="c8fb81ca-109"><a href="#c8fb81ca-109" aria-hidden="true" tabindex="-1"></a>    step<span class="op">=</span><span class="fl">0.01</span>,</span>
<span id="c8fb81ca-110"><a href="#c8fb81ca-110" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Technical Debt"</span>,</span>
<span id="c8fb81ca-111"><a href="#c8fb81ca-111" aria-hidden="true" tabindex="-1"></a>    show_value<span class="op">=</span><span class="va">False</span>,</span>
<span id="c8fb81ca-112"><a href="#c8fb81ca-112" aria-hidden="true" tabindex="-1"></a>    tooltips<span class="op">=</span><span class="va">False</span>,</span>
<span id="c8fb81ca-113"><a href="#c8fb81ca-113" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="c8fb81ca-114"><a href="#c8fb81ca-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-115"><a href="#c8fb81ca-115" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a JavaScript callback to update the productivity curves when slider values change.</span></span>
<span id="c8fb81ca-116"><a href="#c8fb81ca-116" aria-hidden="true" tabindex="-1"></a>callback <span class="op">=</span> CustomJS(</span>
<span id="c8fb81ca-117"><a href="#c8fb81ca-117" aria-hidden="true" tabindex="-1"></a>    args<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="c8fb81ca-118"><a href="#c8fb81ca-118" aria-hidden="true" tabindex="-1"></a>        source<span class="op">=</span>source,</span>
<span id="c8fb81ca-119"><a href="#c8fb81ca-119" aria-hidden="true" tabindex="-1"></a>        slider_team<span class="op">=</span>slider_team,</span>
<span id="c8fb81ca-120"><a href="#c8fb81ca-120" aria-hidden="true" tabindex="-1"></a>        slider_comm<span class="op">=</span>slider_comm,</span>
<span id="c8fb81ca-121"><a href="#c8fb81ca-121" aria-hidden="true" tabindex="-1"></a>        slider_td<span class="op">=</span>slider_td,</span>
<span id="c8fb81ca-122"><a href="#c8fb81ca-122" aria-hidden="true" tabindex="-1"></a>        baseline_uncertainty<span class="op">=</span>baseline_uncertainty,</span>
<span id="c8fb81ca-123"><a href="#c8fb81ca-123" aria-hidden="true" tabindex="-1"></a>        max_size<span class="op">=</span>max_size,</span>
<span id="c8fb81ca-124"><a href="#c8fb81ca-124" aria-hidden="true" tabindex="-1"></a>        k<span class="op">=</span>k,</span>
<span id="c8fb81ca-125"><a href="#c8fb81ca-125" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="c8fb81ca-126"><a href="#c8fb81ca-126" aria-hidden="true" tabindex="-1"></a>    code<span class="op">=</span><span class="st">"""</span></span>
<span id="c8fb81ca-127"><a href="#c8fb81ca-127" aria-hidden="true" tabindex="-1"></a><span class="st">    const data = source.data;</span></span>
<span id="c8fb81ca-128"><a href="#c8fb81ca-128" aria-hidden="true" tabindex="-1"></a><span class="st">    const x = data['x'];</span></span>
<span id="c8fb81ca-129"><a href="#c8fb81ca-129" aria-hidden="true" tabindex="-1"></a><span class="st">    const y_mid = data['y_mid'];</span></span>
<span id="c8fb81ca-130"><a href="#c8fb81ca-130" aria-hidden="true" tabindex="-1"></a><span class="st">    const y_lower = data['y_lower'];</span></span>
<span id="c8fb81ca-131"><a href="#c8fb81ca-131" aria-hidden="true" tabindex="-1"></a><span class="st">    const y_upper = data['y_upper'];</span></span>
<span id="c8fb81ca-132"><a href="#c8fb81ca-132" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="c8fb81ca-133"><a href="#c8fb81ca-133" aria-hidden="true" tabindex="-1"></a><span class="st">    const team = slider_team.value;</span></span>
<span id="c8fb81ca-134"><a href="#c8fb81ca-134" aria-hidden="true" tabindex="-1"></a><span class="st">    const comm = slider_comm.value;</span></span>
<span id="c8fb81ca-135"><a href="#c8fb81ca-135" aria-hidden="true" tabindex="-1"></a><span class="st">    const td = slider_td.value;</span></span>
<span id="c8fb81ca-136"><a href="#c8fb81ca-136" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="c8fb81ca-137"><a href="#c8fb81ca-137" aria-hidden="true" tabindex="-1"></a><span class="st">    // Compute the base factor with exponential decay for technical debt.</span></span>
<span id="c8fb81ca-138"><a href="#c8fb81ca-138" aria-hidden="true" tabindex="-1"></a><span class="st">    const baseFactor = (1 - 0.5 * (team + comm)) * Math.exp(-k * td);</span></span>
<span id="c8fb81ca-139"><a href="#c8fb81ca-139" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="c8fb81ca-140"><a href="#c8fb81ca-140" aria-hidden="true" tabindex="-1"></a><span class="st">    // Effective uncertainty scales with the average of the friction factors.</span></span>
<span id="c8fb81ca-141"><a href="#c8fb81ca-141" aria-hidden="true" tabindex="-1"></a><span class="st">    const effective_uncertainty = baseline_uncertainty * ((team + comm + td) / 3);</span></span>
<span id="c8fb81ca-142"><a href="#c8fb81ca-142" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="c8fb81ca-143"><a href="#c8fb81ca-143" aria-hidden="true" tabindex="-1"></a><span class="st">    // Update productivity curves.</span></span>
<span id="c8fb81ca-144"><a href="#c8fb81ca-144" aria-hidden="true" tabindex="-1"></a><span class="st">    for (let i = 0; i &lt; x.length; i++) {</span></span>
<span id="c8fb81ca-145"><a href="#c8fb81ca-145" aria-hidden="true" tabindex="-1"></a><span class="st">        y_mid[i] = baseFactor * Math.exp(-0.03 * (x[i] - 1));</span></span>
<span id="c8fb81ca-146"><a href="#c8fb81ca-146" aria-hidden="true" tabindex="-1"></a><span class="st">        let scale = (x[i] - 1) / (max_size - 1);</span></span>
<span id="c8fb81ca-147"><a href="#c8fb81ca-147" aria-hidden="true" tabindex="-1"></a><span class="st">        y_lower[i] = y_mid[i] * (1 - effective_uncertainty * scale);</span></span>
<span id="c8fb81ca-148"><a href="#c8fb81ca-148" aria-hidden="true" tabindex="-1"></a><span class="st">        y_upper[i] = y_mid[i] * (1 + effective_uncertainty * scale);</span></span>
<span id="c8fb81ca-149"><a href="#c8fb81ca-149" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="c8fb81ca-150"><a href="#c8fb81ca-150" aria-hidden="true" tabindex="-1"></a><span class="st">    source.change.emit();</span></span>
<span id="c8fb81ca-151"><a href="#c8fb81ca-151" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span>,</span>
<span id="c8fb81ca-152"><a href="#c8fb81ca-152" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="c8fb81ca-153"><a href="#c8fb81ca-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-154"><a href="#c8fb81ca-154" aria-hidden="true" tabindex="-1"></a><span class="co"># Attach the callback to slider value changes.</span></span>
<span id="c8fb81ca-155"><a href="#c8fb81ca-155" aria-hidden="true" tabindex="-1"></a>slider_team.js_on_change(<span class="st">"value"</span>, callback)</span>
<span id="c8fb81ca-156"><a href="#c8fb81ca-156" aria-hidden="true" tabindex="-1"></a>slider_comm.js_on_change(<span class="st">"value"</span>, callback)</span>
<span id="c8fb81ca-157"><a href="#c8fb81ca-157" aria-hidden="true" tabindex="-1"></a>slider_td.js_on_change(<span class="st">"value"</span>, callback)</span>
<span id="c8fb81ca-158"><a href="#c8fb81ca-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-159"><a href="#c8fb81ca-159" aria-hidden="true" tabindex="-1"></a><span class="co"># Arrange the plot and sliders in a layout.</span></span>
<span id="c8fb81ca-160"><a href="#c8fb81ca-160" aria-hidden="true" tabindex="-1"></a>layout <span class="op">=</span> column(p, slider_team, slider_comm, slider_td)</span>
<span id="c8fb81ca-161"><a href="#c8fb81ca-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="c8fb81ca-162"><a href="#c8fb81ca-162" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the interactive plot as an HTML file.</span></span>
<span id="c8fb81ca-163"><a href="#c8fb81ca-163" aria-hidden="true" tabindex="-1"></a>output_file(<span class="st">"team_productivity.html"</span>)</span>
<span id="c8fb81ca-164"><a href="#c8fb81ca-164" aria-hidden="true" tabindex="-1"></a>_ <span class="op">=</span> save(layout)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<iframe src="team_productivity.html" width="100%" height="540px" style="border:none;">
</iframe>
</section>
<section id="moving-forward" class="level2">
<h2 data-anchor-id="moving-forward">Moving forward</h2>
<p>To conclude what is now a long list of ideas and learnings, what absolutely matters is that teams are supported in <em>moving forward</em> and in <em>delivering value</em>. This is not about adding more people, or about finding a hero to save the day, but about helping the team work better together, and to make the right decisions along the way. It is about reducing friction, and about helping the team to communicate more effectively, to integrate better, and to work towards a common goal.</p>
<p>It is also about <a href="https://en.wikipedia.org/wiki/Decentralized_decision-making">:link decentralising decision making</a> rather than making it entirely top-down, and about empowering the team to make the right decisions themselves. Ultimately consensus should be an emergent property, from giving the team the right information, the right tools, and the right incentives to make their way forward in a way that fosters autonomy and accountability. It is about helping everyone to learn from their mistakes, to pivot quickly, and to adapt to new information. It is about helping the team to experiment, to prototype, and to validate new ideas. It is about helping them to fail fast, and to learn from their failures as well as their successes. All this I believe is essential for fostering a culture of innovation and continuous improvement.</p>


</section>
<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></div></div></section></div></main> 
  </div>
</div>
 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/pedroleitao\.nl");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 Pedro Leitão</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Built with Quarto</p>
</div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>